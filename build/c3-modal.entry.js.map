{"version":3,"sources":["src/components/Collapse/Modal/c3-modal.scss?tag=c3-modal","src/components/Collapse/Modal/c3-modal.tsx"],"names":["c3ModalCss","C3Modal","[object Object]","hostRef","this","isHidden","_MODAL_HEADER_","undefined","showModal","bind","closeModal","hasHeader","root","querySelector","remove","addEventListener","event","contains","target","Array","from","querySelectorAll","forEach","closeBtn","window","which","_KEYBOARD_","esc","offset","outerWidth","document","body","offsetWidth","style","marginLeft","marginRight","paddingRight","width","classList","add","removeAttribute","ModalHeader","tagName","toLowerCase","h","class","name","aria-hidden","tabIndex","Object","assign","cloneElementAttr","innerHTML","type","aria-label","href"],"mappings":";;;;qGAAA,MAAMA,EAAa,i1JCiBNC,EAAO,MAShBC,YAAAC,aAJSC,KAAAC,SAAoB,KAErBD,KAAAE,eAA8BC,UAGlCH,KAAKI,UAAYJ,KAAKI,UAAUC,KAAKL,MACrCA,KAAKM,WAAaN,KAAKM,WAAWD,KAAKL,MAG3CF,oBACIE,KAAKO,YAAcP,KAAKQ,KAAKC,cAAc,yBAC3C,GAAIT,KAAKO,UAAW,CAChBP,KAAKE,eAAiBF,KAAKQ,KAAKC,cAAc,yBAC9CT,KAAKQ,KAAKC,cAAc,yBAAyBC,UAIzDZ,qBACIE,KAAKQ,KAAKC,cAAc,0BAA0BE,iBAAiB,QAASX,KAAKI,WACjFJ,KAAKQ,KAAKC,cAAc,UAAUE,iBAAiB,SAAUC,IACzD,IAAKZ,KAAKQ,KAAKC,cAAc,kBAAkBI,SAASD,EAAME,QAAwB,CAClFd,KAAKM,iBAIbS,MAAMC,KAAKhB,KAAKQ,KAAKS,iBAAiB,qBAAqBC,SAASC,IAChEA,EAASR,iBAAiB,QAASX,KAAKM,eAG5Cc,OAAOT,iBAAiB,WAAYC,IAChC,IAAKZ,KAAKC,SAAU,CAChB,GAAIW,EAAMS,QAAUC,EAAWC,IAAK,CAChCvB,KAAKM,kBAMbR,YACJ,MAAM0B,EAASJ,OAAOK,WAAaC,SAASC,KAAKC,YACjDF,SAASC,KAAKE,MAAMC,WAAa,IAAIN,MACrCE,SAASC,KAAKE,MAAME,YAAc,IAAIP,MACtCE,SAASC,KAAKE,MAAMG,aAAe,GAAGR,MACtCE,SAASC,KAAKE,MAAMI,MAAQ,eAAeT,EAAS,OACpDE,SAASC,KAAKO,UAAUC,IAAI,mBAC5BT,SAASC,KAAKO,UAAUC,IAAI,cAC5BnC,KAAKQ,KAAKC,cAAc,UAAUyB,UAAUC,IAAI,QAChDnC,KAAKC,SAAW,MAGZH,aACJE,KAAKQ,KAAKC,cAAc,UAAUyB,UAAUxB,OAAO,QACnDgB,SAASC,KAAKO,UAAUxB,OAAO,mBAC/BgB,SAASC,KAAKO,UAAUxB,OAAO,cAC/BgB,SAASC,KAAKS,gBAAgB,SAC9BpC,KAAKC,SAAW,KAGpBH,SACI,MAAMuC,EAAcrC,KAAKO,WAAa,GAAGP,KAAKE,eAAeoC,QAAQC,gBAErE,OACIC,EAAA,MAAA,CAAKC,MAAM,YACPD,EAAA,OAAA,CAAME,KAAK,kBAEXF,EAAA,MAAA,CAAKC,MAAM,QAAOE,cAAc3C,KAAKC,SAAU2C,UAAW,GACtDJ,EAAA,MAAA,CAAKC,MAAM,sCACPD,EAAA,MAAA,CAAKC,MAAM,iBACNzC,KAAKO,WACFiC,EAAA,MAAA,CAAKC,MAAM,gBACPD,EAACH,EAAWQ,OAAAC,OAAA,CACRL,MAAM,eACFM,EAAiB/C,KAAKE,gBAAe,CACzC8C,UAAWhD,KAAKE,eAAe8C,aAEnCR,EAAA,SAAA,CACIS,KAAK,SACLR,MAAM,gCAA+BS,aAC1B,gBAEXV,EAAA,OAAA,CAAMC,MAAM,YACRD,EAAA,MAAA,KACIA,EAAA,MAAA,CAAKW,KAAK,4CAM9BX,EAAA,MAAA,CAAKC,MAAM,cACPD,EAAA,OAAA,OAEJA,EAAA,MAAA,CAAKC,MAAM,gBACPD,EAAA,SAAA,CACIS,KAAK,SACLR,MAAM,mCAAiC","sourcesContent":["@import 'modal';\r\n\r\n.c3-modal {\r\n    z-index: 1000;\r\n    height: 100%;\r\n\r\n    .modal {\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n\r\n        .modal-dialog {\r\n            max-width: 70%;\r\n        }\r\n\r\n        .modal-title {\r\n            color: $quinary;\r\n        }\r\n\r\n        .modal-content {\r\n            border: none;\r\n            min-height: 500px;\r\n            max-height: 90%;\r\n        }\r\n\r\n        .btn-close-modal {\r\n            .svg-icon {\r\n                svg {\r\n                    fill: $quinary;\r\n                }\r\n            }\r\n        }\r\n\r\n        &.show {\r\n            display: block;\r\n        }\r\n\r\n        @include media-breakpoint-down(sm) {\r\n            .modal-dialog {\r\n                max-width: 100%;\r\n            }\r\n        }\r\n    }\r\n}","import {\r\n    Component,\r\n    h,\r\n    ComponentInterface,\r\n    State,\r\n    Element\r\n} from '@stencil/core';\r\nimport {\r\n    _KEYBOARD_,\r\n    cloneElementAttr\r\n} from 'utils';\r\n\r\n@Component({\r\n    tag: 'c3-modal',\r\n    styleUrl: 'c3-modal.scss',\r\n    shadow: false\r\n})\r\nexport class C3Modal implements ComponentInterface {\r\n    @Element() root: HTMLElement;\r\n\r\n    @State() hasHeader: boolean;\r\n\r\n    @State() isHidden: boolean = true;\r\n\r\n    private _MODAL_HEADER_: HTMLElement = undefined;\r\n\r\n    constructor() {\r\n        this.showModal = this.showModal.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n    }\r\n\r\n    componentWillLoad(): void {\r\n        this.hasHeader = !!this.root.querySelector('[slot=\"modal-header\"]');\r\n        if (this.hasHeader) {\r\n            this._MODAL_HEADER_ = this.root.querySelector('[slot=\"modal-header\"]');\r\n            this.root.querySelector('[slot=\"modal-header\"]').remove();\r\n        }\r\n    }\r\n\r\n    componentDidRender(): void {\r\n        this.root.querySelector('[slot=\"modal-trigger\"]').addEventListener('click', this.showModal);\r\n        this.root.querySelector('.modal').addEventListener('click', (event) => {\r\n            if (!this.root.querySelector('.modal-content').contains(event.target as HTMLElement)) {\r\n                this.closeModal();\r\n            }\r\n        });\r\n\r\n        Array.from(this.root.querySelectorAll('.btn-close-modal')).forEach((closeBtn) => {\r\n            closeBtn.addEventListener('click', this.closeModal);\r\n        });\r\n\r\n        window.addEventListener('keydown', (event:KeyboardEvent) => {\r\n            if (!this.isHidden) {\r\n                if (event.which === _KEYBOARD_.esc) {\r\n                    this.closeModal();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private showModal(): void {\r\n        const offset = window.outerWidth - document.body.offsetWidth;\r\n        document.body.style.marginLeft = `-${offset}px`;\r\n        document.body.style.marginRight = `-${offset}px`;\r\n        document.body.style.paddingRight = `${offset}px`;\r\n        document.body.style.width = `calc(100% + ${offset * 2}px)`;\r\n        document.body.classList.add('overflow-hidden');\r\n        document.body.classList.add('modal-open');\r\n        this.root.querySelector('.modal').classList.add('show');\r\n        this.isHidden = false;\r\n    }\r\n\r\n    private closeModal(): void {\r\n        this.root.querySelector('.modal').classList.remove('show');\r\n        document.body.classList.remove('overflow-hidden');\r\n        document.body.classList.remove('modal-open');\r\n        document.body.removeAttribute('style');\r\n        this.isHidden = true;\r\n    }\r\n\r\n    render() {\r\n        const ModalHeader = this.hasHeader && `${this._MODAL_HEADER_.tagName.toLowerCase()}`;\r\n\r\n        return (\r\n            <div class=\"c3-modal\">\r\n                <slot name=\"modal-trigger\" />\r\n\r\n                <div class=\"modal\" aria-hidden={this.isHidden} tabIndex={-1}>\r\n                    <div class=\"modal-dialog modal-dialog-centered\">\r\n                        <div class=\"modal-content\">\r\n                            {this.hasHeader && (\r\n                                <div class=\"modal-header\">\r\n                                    <ModalHeader\r\n                                        class=\"modal-title\"\r\n                                        {...cloneElementAttr(this._MODAL_HEADER_)}\r\n                                        innerHTML={this._MODAL_HEADER_.innerHTML}\r\n                                    />\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        class=\"btn btn-close btn-close-modal\"\r\n                                        aria-label=\"Close Dialog\"\r\n                                    >\r\n                                        <span class=\"svg-icon\">\r\n                                            <svg>\r\n                                                <use href=\"/assets/icon/sheets/icons.svg#cross\" />\r\n                                            </svg>\r\n                                        </span>\r\n                                    </button>\r\n                                </div>\r\n                            )}\r\n                            <div class=\"modal-body\">\r\n                                <slot />\r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    class=\"btn btn-quinary btn-close-modal\"\r\n                                >\r\n                                    Dismiss\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]}